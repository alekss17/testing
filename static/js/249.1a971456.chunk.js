"use strict";(self.webpackChunktesting=self.webpackChunktesting||[]).push([[249,881],{195:()=>{},249:(e,s,t)=>{t.r(s),t.d(s,{default:()=>S});var i=t(379),o=t(43),r=t(347),n=t(881),l=(t(195),t(578)),a=t(579);const c=e=>{let{profileStatus:s,isOwner:t,UpdateProfileStats:i}=e;const[r,n]=(0,o.useState)(!1),[l,c]=(0,o.useState)(s);(0,o.useEffect)(()=>{c(s)},[s]);return(0,a.jsxs)(a.Fragment,{children:[!r&&(0,a.jsxs)("div",{className:"Status",children:[(0,a.jsxs)("p",{className:"ProfileStatus",children:[s||"---------","  "]})," ",!0===t?(0,a.jsx)("button",{onClick:()=>{n(!0)},children:"Write Status"}):null]}),r&&(0,a.jsx)("div",{children:(0,a.jsx)("input",{onChange:e=>{c(e.currentTarget.value)},autoFocus:!0,onBlur:()=>{n(!1),i(l)},value:l,className:"ProfileStatus"})})]})};var d=t(478),u=t(516),h=t(922);const p=e=>{let{profile:s,handleSubmit:t,onLeaveSubmit:i}=e;return(0,a.jsx)(u.l1,{enableReinitialize:!0,initialValues:{fullName:s.fullName,aboutMe:s.aboutMe,lookingForAJob:s.lookingForAJob,lookingForAJobDescription:s.lookingForAJobDescription,contacts:s.contacts},onSubmit:async(e,s)=>{let{setErrors:i,setSubmitting:o}=s;const r=await t(e);r&&i(r),o(!1)},children:()=>(0,a.jsxs)(u.lV,{children:[(0,a.jsx)("button",{type:"submit",children:"Save"}),(0,a.jsx)("button",{onClick:i,children:"Leave"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{children:"fullName:"}),(0,h.F)("Full Name","fullName",null,h.A,"input")]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{children:"About Me"}),(0,h.F)("About Me","aboutMe",null,h.A,"input")]}),(0,a.jsxs)("div",{className:"LookingForAJob",children:[(0,a.jsx)("p",{children:"lookingForAJob"}),(0,h.F)("","lookingForAJob",null,h.A,"input","checkbox")]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{children:"My skills"}),(0,h.F)("My skills","lookingForAJobDescription",null,h.A)]}),(0,a.jsx)("b",{children:"Contacts"}),Object.keys(s.contacts).map(e=>(0,a.jsx)("div",{children:(0,h.F)(e,"contacts.".concat(e),null,h.A)},e))]})})},m=e=>{let{profile:s,owner:t,goToEditMode:i}=e;return(0,a.jsxs)(a.Fragment,{children:[t&&(0,a.jsx)("button",{onClick:i,children:"edit"}),(0,a.jsx)("div",{children:s.aboutMe&&(0,a.jsxs)("p",{children:["About Me: ",s.aboutMe]})}),(0,a.jsxs)("div",{className:"Contacts",children:[(0,a.jsx)("b",{children:"Contacts"}),": ",Object.keys(s.contacts).map(e=>(0,a.jsx)(x,{contactTitle:e,contactValue:s.contacts[e]},e))]}),(0,a.jsxs)("div",{className:"Job",children:[(0,a.jsxs)("p",{children:["lookingForAJob: ",!0===s.lookingForAJob?"yes":"no"]}),s.lookingForAJob&&(0,a.jsxs)("p",{children:["lookingForAJobDescription: ",s.lookingForAJobDescription]})]}),(0,a.jsxs)("p",{className:"Name",children:["fullName: ",s.fullName]})]})},x=e=>{let{contactTitle:s,contactValue:t}=e;return(0,a.jsxs)("div",{children:[(0,a.jsx)("b",{children:s}),": ",t]})},j=e=>{let{profile:s,profileStatus:t,UpdateProfileStats:i,isOwner:r,savePhoto:n,ProfileLoading:u,saveProfile:h}=e;const[x,j]=(0,o.useState)(!1);if(!u)return(0,a.jsx)(l.A,{});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("img",{src:s.photos.large||d}),r&&(0,a.jsx)("input",{type:"file",onChange:e=>{e.target.files[0]&&n(e.target.files[0])}}),(0,a.jsx)(c,{initialValues:s,isOwner:r,profileStatus:t,UpdateProfileStats:i}),x?(0,a.jsx)(p,{profile:s,handleSubmit:async e=>{const s=await h(e);return s||j(!1),s},onLeaveSubmit:()=>{j(!1)}}):(0,a.jsx)(m,{profile:s,owner:r,goToEditMode:()=>j(!0)})]})},f=e=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(j,(0,i.A)({isOwner:e.isOwner},e)),(0,a.jsx)(n.default,{})]});var b=t(907),g=t(805),A=t(336),P=t(216);class v extends o.Component{componentDidMount(){this.refreshProfile()}componentDidUpdate(e){this.props.userId!==e.userId&&this.refreshProfile()}refreshProfile(){this.props.userId&&(this.props.GetProfile(this.props.userId),this.props.GetProfilStatus(this.props.userId))}isOwner(){if(this.props.meId===this.props.userId)return!0}render(){return(0,a.jsx)(f,(0,i.A)({isOwner:this.isOwner(),meId:this.props.meId,userId:this.props.userId},this.props))}}const k=(0,g.Zz)((0,r.Ng)(e=>({profile:e.ProfileReducer.profile,profileStatus:e.ProfileReducer.ProfileStatus,isAuth:e.auth.isAuth,isAuthChecking:e.auth.isAuthChecking,meId:e.auth.userId,ProfileLoading:e.ProfileReducer.ProfileLoading}),{GetProfile:b.aS,GetProfilStatus:b.Rp,UpdateProfileStats:b._c,savePhoto:b.Ah,saveProfile:b.Lt}),A.A)(v),S=(0,r.Ng)(e=>({meId:e.auth.userId}),{GetProfile:b.aS})(e=>{const{userId:s}=(0,P.g)(),t=s||e.meId;return(0,a.jsx)(k,(0,i.A)((0,i.A)({},e),{},{userId:t}))})},478:(e,s,t)=>{e.exports=t.p+"static/media/user.b8d46235131f70e6be52.jpg"},881:(e,s,t)=>{t.r(s),t.d(s,{default:()=>f});var i=t(347),o=t(907),r=t(43),n=(t(195),t(579));const l=e=>{const{likescount:s,message:t,DeletePost:i,id:o}=e;return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"item",children:[(0,n.jsx)("img",{className:"post-img",src:"https://www.meme-arsenal.com/memes/9e68a78a292b4ed1555a338561dca8c3.jpg",alt:""}),(0,n.jsx)("p",{children:t})]}),(0,n.jsxs)("p",{children:["likes: ",s]}),(0,n.jsx)("button",{onClick:()=>i(o),children:"DeletePost"})]})})};var a=t(516),c=t(545),d=t(922);const u=(0,c.t)(100),h=e=>(0,n.jsx)(a.l1,{initialValues:{newMessageBody:""},onSubmit:e.onSubmit,children:(0,n.jsxs)(a.lV,{className:"PostsAddHome",children:[(0,n.jsx)("div",{children:(0,n.jsx)(a.D0,{className:"TextAreaAddPost",validate:e=>(0,c.m)(e)||u(e),name:"newMessageBody",component:d.A,astag:"textarea"})}),(0,n.jsx)("div",{className:"AddButtonPost",children:(0,n.jsx)("button",{type:"submit",className:"GetPostButton",children:"Send Message"})})]})}),p=r.memo(e=>{const s=e.postData.map((s,t)=>(0,n.jsx)(l,{id:s.id,DeletePost:e.DeletePost,message:s.message,likescount:s.likescount},t));return(0,n.jsxs)("div",{children:[(0,n.jsx)(h,{onSubmit:s=>{e.addPost(s.newMessageBody)}}),s]})});var m=t(805),x=t(336);const j=e=>e.ProfileReducer.postData;const f=(0,m.Zz)((0,i.Ng)(e=>({postData:j(e)}),{addPost:o.oL,DeletePost:o.mu}),x.A)(p)}}]);
//# sourceMappingURL=249.1a971456.chunk.js.map